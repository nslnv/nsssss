# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–¥–∞–º–∏ - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–¥–∞–º–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å–±–æ—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç:

- **üåê Frontend —Ñ–æ—Ä–º—ã** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–±–æ—Ä–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ —Å–∞–π—Ç–µ
- **‚ö° REST API** - –Ω–∞–¥–µ–∂–Ω—ã–π backend –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **üë®‚Äçüíº –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏  
- **üîí –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** - –≤—ã–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ –≤ CSV —Ñ–æ—Ä–º–∞—Ç–µ

## üìä –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `leads`

```sql
CREATE TABLE leads (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    email TEXT NOT NULL,
    phone TEXT,
    work_type TEXT NOT NULL,
    description TEXT NOT NULL,
    source TEXT,
    status TEXT NOT NULL DEFAULT 'new',
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
CREATE INDEX idx_leads_created_at ON leads(created_at);
CREATE INDEX idx_leads_status ON leads(status);
CREATE INDEX idx_leads_email ON leads(email);
CREATE INDEX idx_leads_work_type ON leads(work_type);
```

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–µ–π

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ |
|------|-----|----------|--------------|
| `id` | SERIAL | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç) | ‚úÖ |
| `name` | TEXT | –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ | ‚úÖ |
| `email` | TEXT | Email –∫–ª–∏–µ–Ω—Ç–∞ (–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è) | ‚úÖ |
| `phone` | TEXT | –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞ | ‚ùå |
| `work_type` | TEXT | –¢–∏–ø —Ä–∞–±–æ—Ç—ã/—É—Å–ª—É–≥–∏ | ‚úÖ |
| `description` | TEXT | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ | ‚úÖ |
| `source` | TEXT | –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞—è–≤–∫–∏ (–°–∞–π—Ç, –†–µ–∫–ª–∞–º–∞, –∏ —Ç.–¥.) | ‚ùå |
| `status` | TEXT | –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ (new, in_work, done, rejected) | ‚úÖ |
| `created_at` | TIMESTAMPTZ | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |

### üìà –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

- **`new`** - üÜï –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **`in_work`** - üîÑ –í —Ä–∞–±–æ—Ç–µ  
- **`done`** - ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ
- **`rejected`** - ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ

## üõ†Ô∏è API Endpoints

### 1. üìù –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏

**`POST /api/leads`**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É –≤ —Å–∏—Å—Ç–µ–º–µ (–ø—É–±–ª–∏—á–Ω—ã–π endpoint)

**Request Body:**
```json
{
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan@example.com", 
    "phone": "+7 (999) 123-45-67",
    "workType": "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–æ–¥—É–∫—Ü–∏–∏",
    "source": "–°–∞–π—Ç"
}
```

**Response (Success):**
```json
{
    "ok": true
}
```

**Response (Error):**
```json
{
    "ok": false,
    "error": "Name is required"
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `name` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –Ω–µ –ø—É—Å—Ç–æ–µ
- `email` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email —Ñ–æ—Ä–º–∞—Ç
- `workType` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –Ω–µ –ø—É—Å—Ç–æ–µ  
- `description` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –Ω–µ –ø—É—Å—Ç–æ–µ
- `phone` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
- `source` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ

---

### 2. üìã –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ (–ê–¥–º–∏–Ω)

**`GET /api/admin/leads`**

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Basic base64(username:password)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `page` - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20, –º–∞–∫—Å–∏–º—É–º: 100)
- `query` - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, email, —Ç–∏–ø—É —Ä–∞–±–æ—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏—é
- `status` - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (new, in_work, done, rejected)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET /api/admin/leads?page=1&limit=20&query=–∏–≤–∞–Ω&status=new
```

**Response:**
```json
{
    "leads": [
        {
            "id": 1,
            "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
            "email": "ivan@example.com",
            "phone": "+7 (999) 123-45-67", 
            "workType": "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
            "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç...",
            "source": "–°–∞–π—Ç",
            "status": "new",
            "createdAt": "2024-01-15T10:30:00Z"
        }
    ],
    "metadata": {
        "total": 45,
        "page": 1,
        "limit": 20,
        "totalPages": 3,
        "hasMore": true
    }
}
```

---

### 3. ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏ (–ê–¥–º–∏–Ω)

**`PATCH /api/admin/leads/[id]`**

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: application/json
```

**Request Body:**
```json
{
    "status": "in_work"
}
```

**Response:**
```json
{
    "id": 1,
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan@example.com",
    "phone": "+7 (999) 123-45-67",
    "workType": "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞", 
    "description": "–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç...",
    "source": "–°–∞–π—Ç",
    "status": "in_work",
    "createdAt": "2024-01-15T10:30:00Z"
}
```

---

### 4. üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ (–ê–¥–º–∏–Ω)

**`DELETE /api/admin/leads/[id]`**

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer YOUR_ADMIN_TOKEN
```

**Response:**
```json
{
    "ok": true,
    "message": "Lead deleted successfully"
}
```

---

### 5. üìä –≠–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫ –≤ CSV (–ê–¥–º–∏–Ω)

**`POST /api/admin/leads`**

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Basic base64(username:password)
Content-Type: application/json
```

**Request Body:**
```json
{
    "action": "export_csv"
}
```

**Response:**
- –¢–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ: `text/csv`
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `Content-Disposition: attachment; filename="leads_export.csv"`
- CSV —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –∑–∞—è–≤–∫–∞–º–∏

---

## üé® –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin/leads`

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∑–∞—â–∏—â–µ–Ω–∞ Basic Authentication:

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```env
ADMIN_USER=admin
ADMIN_PASS=secure_password_123
```

**–î–æ—Å—Ç—É–ø:** `https://yoursite.com/admin/leads`

### üñ•Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–∞–Ω–µ–ª–∏

#### üìä –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **–ú–µ—Ç—Ä–∏–∫–∏:** –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏–¥–æ–≤
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:** –ú—è–≥–∫–∏–µ –±–µ–∂–µ–≤—ã–µ —Ç–æ–Ω–∞ (#F7F3EE —Ñ–æ–Ω, #C9A27A –±—Ä–µ–Ω–¥, #2E2A28 —Ç–µ–∫—Å—Ç)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω:** –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, –ø–ª–∞–Ω—à–µ—Ç–∞—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö

#### üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫:** –ü–æ –∏–º–µ–Ω–∏, email, —Ç–∏–ø—É —Ä–∞–±–æ—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏—é
- **–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É:** All, New, In Work, Done, Rejected  
- **–†–µ–∂–∏–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ

#### üìã –¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| –î–∞—Ç–∞ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–î–î.–ú–ú.–ì–ì–ì–ì) |
| –ò–º—è | –§–ò–û –∫–ª–∏–µ–Ω—Ç–∞ |
| Email | –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ (mailto:) |
| –¢–µ–ª–µ—Ñ–æ–Ω | –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ (tel:) |
| –¢–∏–ø —Ä–∞–±–æ—Ç—ã | –ö–∞—Ç–µ–≥–æ—Ä–∏—è —É—Å–ª—É–≥–∏ |
| –û–ø–∏—Å–∞–Ω–∏–µ | –°–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å–∫—Ä—ã—Ç–∏—è |
| –°—Ç–∞—Ç—É—Å | –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ |
| –î–µ–π—Å—Ç–≤–∏—è | –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞, —É–¥–∞–ª–µ–Ω–∏–µ |

#### ‚ö° –î–µ–π—Å—Ç–≤–∏—è —Å –∑–∞—è–≤–∫–∞–º–∏
- **–°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞:** Dropdown —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (new/in_work/done/rejected)
- **–£–¥–∞–ª–µ–Ω–∏–µ:** –° –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### üìÑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- **–ü–æ 20 –∑–∞–ø–∏—Å–µ–π** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ù–∞–∑–∞–¥/–í–ø–µ—Ä–µ–¥ + –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:** "–°—Ç—Ä–∞–Ω–∏—Ü–∞ X –∏–∑ Y"

#### üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- **–§–æ—Ä–º–∞—Ç:** CSV —Ñ–∞–π–ª  
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –í—Å–µ –∑–∞—è–≤–∫–∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–ò–º—è —Ñ–∞–π–ª–∞:** `leads-YYYY-MM-DD.csv`

### üéØ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

#### üé® –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
```css
/* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
--bg-color: #F7F3EE;      /* –ú—è–≥–∫–∏–π –±–µ–∂–µ–≤—ã–π —Ñ–æ–Ω */
--brand-color: #C9A27A;    /* –û—Å–Ω–æ–≤–Ω–æ–π –±—Ä–µ–Ω–¥ —Ü–≤–µ—Ç */
--text-color: #2E2A28;     /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
--muted-color: #6E645B;    /* –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç */
--border-color: #E6DED3;   /* –ì—Ä–∞–Ω–∏—Ü—ã —Ç–∞–±–ª–∏—Ü */
```

#### üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–î–µ—Å–∫—Ç–æ–ø:** –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏
- **–ü–ª–∞–Ω—à–µ—Ç:** –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ —Å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º
- **–ú–æ–±–∏–ª—å–Ω—ã–π:** –ö–∞—Ä—Ç–æ—á–Ω—ã–π –≤–∏–¥ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –ó–µ–ª–µ–Ω—ã–µ toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–û—à–∏–±–∫–∏:** –ö—Ä–∞—Å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã  
- **–ó–∞–≥—Ä—É–∑–∫–∞:** –°–ø–∏–Ω–Ω–µ—Ä—ã –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## üîí –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üõ°Ô∏è –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**Basic Auth –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:**
```javascript
// Middleware –ø—Ä–æ–≤–µ—Ä–∫–∞
function validateBasicAuth(request) {
    const authHeader = request.headers.get('authorization');
    const credentials = Buffer.from(authHeader.substring(6), 'base64').toString('ascii');
    const [username, password] = credentials.split(':');
    
    return username === process.env.ADMIN_USER && password === process.env.ADMIN_PASS;
}
```

**Bearer Token –¥–ª—è API:**
```javascript
// API endpoint –∑–∞—â–∏—Ç–∞
function validateAdminAuth(request) {
    const token = request.headers.get('authorization')?.replace('Bearer ', '');
    return token === process.env.ADMIN_TOKEN;
}
```

### üö´ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

**Rate Limiting:**
- **–ü—É–±–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã:** 10 –∑–∞—è–≤–æ–∫ –≤ —á–∞—Å —Å –æ–¥–Ω–æ–≥–æ IP
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞:** –£–¥–∞–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö –∑–∞–ø–∏—Å–µ–π
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** In-memory –∫–∞—Ä—Ç–∞ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Redis)

**XSS Protection:**
```javascript
function sanitizeString(input) {
    return input
        .replace(/[<>]/g, '')           // –£–¥–∞–ª–µ–Ω–∏–µ HTML —Ç–µ–≥–æ–≤
        .replace(/javascript:/gi, '')    // –£–¥–∞–ª–µ–Ω–∏–µ JS –ø—Ä–æ—Ç–æ–∫–æ–ª–∞  
        .replace(/on\w+=/gi, '')        // –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        .trim()
        .substring(0, 1000);            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
```javascript
// Email –≤–∞–ª–∏–¥–∞—Ü–∏—è
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

// –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
const requiredFields = ['name', 'email', 'workType', 'description'];

// –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Å—Ç–∞—Ç—É—Å—ã
const validStatuses = ['new', 'in_work', 'done', 'rejected'];
```

---

## üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Frontend

### üìù –§–æ—Ä–º–∞ –∑–∞—è–≤–æ–∫

–§–æ—Ä–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ComprehensiveContactForm`:

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—ã:**
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** Real-time –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:** –ò–º—è, Email, –¢–∏–ø —Ä–∞–±–æ—Ç—ã, –û–ø–∏—Å–∞–Ω–∏–µ
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞:** –§–æ—Ä–º–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** Toast —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°—Ç–∞—Ç—É—Å—ã:** –ó–∞–≥—Ä—É–∑–∫–∞ ‚Üí –£—Å–ø–µ—Ö/–û—à–∏–±–∫–∞

**–¢–∏–ø—ã —Ä–∞–±–æ—Ç –≤ —Ñ–æ—Ä–º–µ:**
- –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –î–∏–∑–∞–π–Ω
- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è
- –û–±—É—á–µ–Ω–∏–µ
- –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- SEO
- –ö–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥
- –ë—Ä–µ–Ω–¥–∏–Ω–≥
- E-commerce
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- + –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã

### üíª –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

```javascript
// –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏
async function submitLead(formData) {
    try {
        const response = await fetch('/api/leads', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                name: formData.name,
                email: formData.email,
                phone: formData.phone,
                workType: formData.workType,
                description: formData.description,
                source: '–°–∞–π—Ç'
            }),
        });

        const data = await response.json();
        
        if (data.ok) {
            toast.success('–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞! –°–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
            resetForm();
        } else {
            toast.error(data.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏');
        }
    } catch (error) {
        toast.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.');
    }
}
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# ===========================
# –û–°–ù–û–í–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
# ===========================

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–∏–ª–∏ SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
DATABASE_URL="postgresql://username:password@localhost:5432/leads_db"

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
ADMIN_USER="admin"
ADMIN_PASS="your_secure_password_123"

# –¢–æ–∫–µ–Ω –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞
ADMIN_TOKEN="your-secure-api-token-min-32-characters"
```

### üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
# ===========================
# –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
# ===========================

# CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
CORS_ORIGINS="http://localhost:3000,https://yourdomain.com"

# Rate Limiting
RATE_LIMIT_RPM="100"
ADMIN_RATE_LIMIT_RPM="1000"

# ===========================
# –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ===========================

# SMTP –¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="noreply@yourdomain.com"

# Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_EMAIL="admin@yourdomain.com"

# ===========================
# –†–ê–ó–†–ê–ë–û–¢–ö–ê
# ===========================

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
NODE_ENV="development"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL="info"
ENABLE_REQUEST_LOGGING="true"
```

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel

### üìù –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### 1. üóÑÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–í–∞—Ä–∏–∞–Ω—Ç –ê: Vercel Postgres (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Vercel CLI
npm i -g vercel

# –õ–æ–≥–∏–Ω –≤ Vercel
vercel login

# –°–æ–∑–¥–∞–Ω–∏–µ PostgreSQL –±–∞–∑—ã
vercel postgres create
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –í–Ω–µ—à–Ω–∏–π PostgreSQL**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Neon, Supabase, –∏–ª–∏ AWS RDS
- –ü–æ–ª—É—á–∏—Ç–µ DATABASE_URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### 2. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –ø–∞–Ω–µ–ª–∏ Vercel (Settings ‚Üí Environment Variables):

```env
DATABASE_URL=postgresql://username:password@host:5432/dbname
ADMIN_USER=admin
ADMIN_PASS=your_secure_password
ADMIN_TOKEN=your-secure-token-32-chars-min
```

#### 3. üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
git clone your-repo
cd your-project
npm install

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel
vercel --prod
```

#### 4. üóÉÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Vercel Postgres
vercel env pull .env.local

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Drizzle)
npm run db:migrate
npm run db:seed  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

#### 5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

**–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**

1. **–ü—É–±–ª–∏—á–Ω–∞—è —Ñ–æ—Ä–º–∞:** `https://yoursite.com/#contact`
2. **API –∑–∞—è–≤–æ–∫:** `POST https://yoursite.com/api/leads`
3. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** `https://yoursite.com/admin/leads`
4. **–≠–∫—Å–ø–æ—Ä—Ç CSV:** –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### üîß –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### Database Connection Pool
```javascript
// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è serverless
export const db = drizzle(new Pool({
    connectionString: process.env.DATABASE_URL,
    max: 1, // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è serverless
    idleTimeoutMillis: 0,
    connectionTimeoutMillis: 0,
}));
```

#### Edge Runtime (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```javascript
// –í API routes –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
export const runtime = 'edge';
export const preferredRegion = 'fra1'; // –ë–ª–∏–∂–∞–π—à–∏–π –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### üîß API –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏:**
```bash
curl -X POST https://yoursite.com/api/leads \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤–∏—á",
    "email": "test@example.com",
    "phone": "+7 999 123 45 67",
    "workType": "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    "description": "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API",
    "source": "–¢–µ—Å—Ç"
  }'
```

**–¢–µ—Å—Ç –∞–¥–º–∏–Ω API:**
```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫
curl -X GET https://yoursite.com/api/admin/leads \
  -H "Authorization: Basic $(echo -n 'admin:password' | base64)"

# –≠–∫—Å–ø–æ—Ä—Ç CSV
curl -X POST https://yoursite.com/api/admin/leads \
  -H "Authorization: Basic $(echo -n 'admin:password' | base64)" \
  -H "Content-Type: application/json" \
  -d '{"action": "export_csv"}' \
  -o leads_export.csv
```

### üåê Frontend –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫:**
- [ ] –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í—Å–µ –ø–æ–ª—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- [ ] –§–æ—Ä–º–∞ –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- [ ] Rate limiting –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–ø–∞–º

### üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```sql
-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
\c your_database_name

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã leads
\d leads

-- –¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏
INSERT INTO leads (name, email, work_type, description) 
VALUES ('Test User', 'test@test.com', '–¢–µ—Å—Ç', '–¢–µ—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ');

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT * FROM leads ORDER BY created_at DESC LIMIT 5;
```

---

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### üî¥ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

#### 1. Database Connection Failed
```
–û—à–∏–±–∫–∞: Database connection failed
```

**–†–µ—à–µ–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- –î–ª—è Vercel: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏–æ–Ω –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
npx drizzle-kit introspect:pg
```

#### 2. Unauthorized Access (401)
```
–û—à–∏–±–∫–∞: Admin authentication required
```

**–†–µ—à–µ–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ADMIN_USER` –∏ `ADMIN_PASS`
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ Basic Auth –∑–∞–≥–æ–ª–æ–≤–∫–∞
- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

#### 3. Form Submission Failed
```
–û—à–∏–±–∫–∞: Network request failed
```

**–†–µ—à–µ–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ email —Ñ–æ—Ä–º–∞—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ API –≤ Vercel Functions

#### 4. Rate Limit Exceeded (429)
```
–û—à–∏–±–∫–∞: Too many requests
```

**–†–µ—à–µ–Ω–∏—è:**
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 —á–∞—Å –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π IP –∞–¥—Ä–µ—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ IP –≤ –∫–æ–¥–µ

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Vercel Analytics:**
- –í–∫–ª—é—á–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π

**Custom Logging:**
```javascript
// –î–æ–±–∞–≤—å—Ç–µ –≤ API —Ä–æ—É—Ç—ã
console.log('[LEADS API]', {
    timestamp: new Date().toISOString(),
    action: 'create_lead',
    success: true,
    ip: request.ip,
    userAgent: request.headers.get('user-agent')
});
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫ –≤ –¥–µ–Ω—å/—á–∞—Å
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫  
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API endpoints
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (rate limiting)
- –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–¥–∞–º–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

‚úÖ **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–±–æ—Ä –∑–∞—è–≤–æ–∫** —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —Å–ø–∞–º–∞
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** —Å —É–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ–µ API** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Vercel
‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —á–µ—Ä–µ–∑ Telegram [@nslnv](https://t.me/nslnv)